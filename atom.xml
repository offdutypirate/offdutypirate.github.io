<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Captain's Log</title><link href="http://offdutypirate.github.io/" rel="alternate"></link><link href="http://offdutypirate.github.io/atom.xml" rel="self"></link><id>http://offdutypirate.github.io/</id><updated>2016-01-11T12:30:00-06:00</updated><entry><title>Change network device name after restore</title><link href="http://offdutypirate.github.io/2016/01/change-interface-name-after-restore/" rel="alternate"></link><updated>2016-01-11T12:30:00-06:00</updated><author><name>Jon Moore</name></author><id>tag:offdutypirate.github.io,2016-01-11:2016/01/change-interface-name-after-restore/</id><summary type="html">&lt;p&gt;If the &lt;span class="caps"&gt;MAC&lt;/span&gt; address of a physical or virtual network interface changes then the device name will often change as well. This is common when restoring a server from an image based backup.  After the restore, the configuration for the network interfaces will often persist, but are tied to the old hardware address.  This is a pretty easy situtation to clean up.  This post focuses only on CentOS&amp;nbsp;6.&lt;/p&gt;
&lt;p&gt;If there is only a single network interface the quickest method is to remove the udev rules for network devices and then remove the &lt;span class="caps"&gt;HWADDR&lt;/span&gt; line from the interface configuration file and&amp;nbsp;reboot.&lt;/p&gt;
&lt;table class="codehilitetable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;rm /etc/udev/rules.d/70-persistent-net.rules
&lt;span class="nv"&gt;$ &lt;/span&gt;sed -i&lt;span class="s2"&gt;&amp;quot;.bak&amp;quot;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;/HWADDR/d&amp;#39;&lt;/span&gt; /etc/sysconfig/network-scripts/ifcfg-eth0
&lt;span class="nv"&gt;$ &lt;/span&gt;reboot
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;p&gt;If there is more then one network interface, then removing the udev rules could potentionlly change the names of all interfaces.  In this case it might be easier to edit the &lt;code&gt;70-persistent-net.rules&lt;/code&gt; file and change the interface names in&amp;nbsp;there.&lt;/p&gt;</summary></entry><entry><title>Interface teaming with nmcli</title><link href="http://offdutypirate.github.io/2015/12/interface-teaming-with-nmcli/" rel="alternate"></link><updated>2015-12-28T08:00:00-06:00</updated><author><name>Jon Moore</name></author><id>tag:offdutypirate.github.io,2015-12-28:2015/12/interface-teaming-with-nmcli/</id><summary type="html">&lt;h2&gt;Create the team&amp;nbsp;interface&lt;/h2&gt;
&lt;p&gt;This creates a new team interface named &lt;em&gt;team0&lt;/em&gt; and sets runner (bond mode) to lacp.  In these examples the name of the interface is &lt;em&gt;team0&lt;/em&gt; - this is entirely for personal tastes.  The connection name can be anything, using team simply makes things easier to&amp;nbsp;follow.&lt;/p&gt;
&lt;table class="codehilitetable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;nmcli connection add &lt;span class="se"&gt;\&lt;/span&gt;
  &lt;span class="nb"&gt;type &lt;/span&gt;team &lt;span class="se"&gt;\&lt;/span&gt;
  con-name team0 &lt;span class="se"&gt;\&lt;/span&gt;
  ifname team0 &lt;span class="se"&gt;\&lt;/span&gt;
  config &lt;span class="err"&gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;runner&amp;quot;&lt;/span&gt;:&lt;span class="o"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;name&amp;quot;&lt;/span&gt;:&lt;span class="s2"&gt;&amp;quot;lacp&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;}}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;h2&gt;Add slave&amp;nbsp;device&lt;/h2&gt;
&lt;table class="codehilitetable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;nmcli connection add &lt;span class="se"&gt;\&lt;/span&gt;
  &lt;span class="nb"&gt;type &lt;/span&gt;team-slave&lt;span class="se"&gt;\&lt;/span&gt;
  con-name team0-port1&lt;span class="se"&gt;\&lt;/span&gt;
  ifname eno1&lt;span class="se"&gt;\&lt;/span&gt;
  master team0
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;p&gt;Additional information can be found in the &lt;a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/ch-Configure_Network_Bonding.html"&gt;Red Hat Enterprise Linux Networking Guide&lt;/a&gt;&amp;nbsp;documentation&lt;/p&gt;</summary></entry><entry><title>Hammer Notes</title><link href="http://offdutypirate.github.io/2015/12/hammer-notes/" rel="alternate"></link><updated>2015-12-31T08:00:00-06:00</updated><author><name>Jon Moore</name></author><id>tag:offdutypirate.github.io,2015-12-09:2015/12/hammer-notes/</id><summary type="html">&lt;p&gt;Here is a collection of my notes on using hammer cli with Red Hat Satellite.  Most of these things probably work with Katello also, but all of my testing is with&amp;nbsp;Satellite.&lt;/p&gt;
&lt;h3&gt;Add new&amp;nbsp;Product&lt;/h3&gt;
&lt;p&gt;Products are a group of repositories.  Content Hosts can subscribe to a product to make those repositories&amp;nbsp;available.&lt;/p&gt;
&lt;table class="codehilitetable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;hammer product create --name&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Product Name&amp;quot;&lt;/span&gt; --organization&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Default Organization&amp;quot;&lt;/span&gt; --description&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Description about Product&amp;quot;&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;Foreman&lt;span class="o"&gt;]&lt;/span&gt; Username:
&lt;span class="o"&gt;[&lt;/span&gt;Foreman&lt;span class="o"&gt;]&lt;/span&gt; Password &lt;span class="k"&gt;for&lt;/span&gt; username:
Product created
&lt;span class="err"&gt;$&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;h3&gt;Content&amp;nbsp;Views&lt;/h3&gt;
&lt;table class="codehilitetable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;hammer content-view list --organization&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Default Organization&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</summary><category term="satellite"></category></entry><entry><title>RPM notes</title><link href="http://offdutypirate.github.io/2015/11/rpm-notes/" rel="alternate"></link><updated>2015-11-26T08:30:00-06:00</updated><author><name>Jon Moore</name></author><id>tag:offdutypirate.github.io,2015-11-22:2015/11/rpm-notes/</id><summary type="html">&lt;p&gt;Here is a collection of my notes on using &lt;span class="caps"&gt;RPM&lt;/span&gt;.  Most of these are well documented in man pages and other sources around the web.  I&amp;#8217;ve collected the ones I&amp;#8217;ve used most here as a reference for myself and&amp;nbsp;others.  &lt;/p&gt;
&lt;h1&gt;Query package&amp;nbsp;information&lt;/h1&gt;
&lt;h2&gt;Show package&amp;nbsp;information&lt;/h2&gt;
&lt;p&gt;::&lt;/p&gt;
&lt;table class="codehilitetable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="codehilite"&gt;&lt;pre&gt;$
rpm -qi yum-cron
Name        : yum-cron                     Relocations: (not relocatable)
Version     : 3.2.29                            Vendor: CentOS
Release     : 69.el6.centos                 Build Date: Fri 24 Jul 2015 05:28:06 AM CDT
Install Date: Thu 03 Sep 2015 06:14:37 PM CDT      Build Host: c6b9.bsys.dev.centos.org
Group       : System Environment/Base       Source RPM: yum-3.2.29-69.el6.centos.src.rpm
Size        : 28204                            License: GPLv2+
Signature   : RSA/SHA1, Fri 24 Jul 2015 03:43:15 PM CDT, Key ID 0946fca2c105b9de
Packager    : CentOS BuildSystem &amp;lt;http://bugs.centos.org&amp;gt;
URL         : http://yum.baseurl.org/
Summary     : Files needed to run yum updates as a cron job
Description :
These are the files needed to run yum updates as a cron job.
Install this package if you want auto yum updates nightly via cron.
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;h2&gt;Show package file&amp;nbsp;list&lt;/h2&gt;
&lt;p&gt;This shows all files included in a package.&amp;nbsp;::&lt;/p&gt;
&lt;table class="codehilitetable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4
5
6
7
8
9&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;rpm -ql yum-cron
/etc/cron.daily/0yum.cron
/etc/rc.d/init.d/yum-cron
/etc/sysconfig/yum-cron
/etc/yum/yum-daily.yum
/etc/yum/yum-weekly.yum
/usr/share/doc/yum-cron-3.2.29
/usr/share/doc/yum-cron-3.2.29/COPYING
/usr/share/man/man8/yum-cron.8.gz
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;h2&gt;Show a packages configuration&amp;nbsp;files&lt;/h2&gt;
&lt;p&gt;Similar to -q but only lists configuration&amp;nbsp;files&lt;/p&gt;
&lt;p&gt;::&lt;/p&gt;
&lt;table class="codehilitetable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3
4&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt; rpm -qc yum-cron
/etc/sysconfig/yum-cron
/etc/yum/yum-daily.yum
/etc/yum/yum-weekly.yum
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;h2&gt;Show a packages&amp;nbsp;documentation&lt;/h2&gt;
&lt;p&gt;Similar to previous examples, but only shows&amp;nbsp;documentation.&lt;/p&gt;
&lt;p&gt;::&lt;/p&gt;
&lt;table class="codehilitetable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;1
2
3&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;rpm -qd yum-cron
/usr/share/doc/yum-cron-3.2.29/COPYING
/usr/share/man/man8/yum-cron.8.gz
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</summary></entry></feed>